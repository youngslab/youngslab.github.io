

# 6. 성능 평가와 최적화

불확실성에 따른 평가의 어려움이 있지만, 매우 중요하다. 

## 6.1 알고리즘 트레이딩 시스템의 성능 측정. 

평가 목적

- 수익성 평가
- 모델별 비교
- 시스템에 대한 자신감

## Back Testing

특정 기간의 과거 데이터로 알고리즘 트레이딩 시스템의 성능을 평가하는 것을 말한다. 
이를 통해 어느 정도의 예측력, 수익률, 시스템 성능의 특성을 파악 할 수 있다.

아래와 같은 방법이 존재 한다. 

* Profit/Loss

* Hit ratio 

* Drawndown

## 머신러닝 모델 성능 측정

머신러닝 모델의 성능을 측정하는 방법은 문제의 성격에 따라 달라진다. 
수치 예측(회귀) 제곱근 평균 오차 (Root Mean Square Error)과 같이 예측치와 실측치의 차이를 계산하는 방법. 
알고리즘 트레이딩 시스템 -> confution matrix와 같이 분류하는 항목별 정확도나 재현률과 같은 특성을 계산하는 방법을 사용한다. 

위의 back testing머신러닝 자체에 대한 평가. Why?
  단순 주가에 대한 방향을 예측하는 평가이기 때문에 메신러닝 자체에 대한 평가를 세분화하여 더많은 수익률을 달성할 수 있다. ex) 상승과 하락중 어느것을 더 잘 맞추는가?, 정확도와 재현률? 

### 1. 혼동 행렬(Confusion Matrix)

  항목별 분류 결과를 테이블 형태로 표현한 것. 분할표(contigency Table) 이라고도 한다. 

  예측 정확도만으로 알 수 없는 머신러닝 모델의 예측 특성과 데이터 편향등의 추가적인 정보를 알 수 있다. 
  - 데이터 편향. 테스트 데이터가 한쪽으로 치우쳐져 있는가? 
  - 모델의 예특 특성. 하락/ 상승에 대한 예측 정확도. 
  - 예측 건수. 

  예를 들어 하락에 대한 정확도가 높으면서 예측 건수는 상승에 대한 빈도가 높으면. 상사지 않아도 될 수 주식을 사게 되어 손실을 볼 가능성이 크다. 

### 2. Classification Report

skelarn에서 제공하는 기능. 분류자 들의 성능을 요약. 

- precision
- recall(민감도) 무작위 데이터를 입력해 예측했을 때 Positive값으로 결과가 정확하게 나올 확률.
- f1 score
- specificity(특이도)
  
### 3. ROC 곡선 (Receiver Operating Characteristic Curve)

- 특성 
  - 시각적 능을 보여주어 직관적 이해가 쉽다. 
  - 데이터가 편향 되어 있어도 사용 할 수 있다. 














